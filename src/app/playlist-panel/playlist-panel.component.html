<!-- Playlist list mode toolbar -->
<md-toolbar *ngIf="!isEditMode">

    <!-- Create playlist button -->
    <button class="toolbarBtn" md-raised-button tabindex="-1" (click)="createPlaylist()">
        <fa aria-label="Create playlist" [name]="'plus'" [size]="1"></fa>
        Create playlist
    </button>

    <!-- Search/filter playlist by word -->
    <span>
        <input id="inputFilter" mdInput [formControl]="searchPlaylist" [mdAutocomplete]="auto"
            class="inputSearchPlaylist" type="text"  placeholder="Search playlist">

        <button *ngIf="searchPlaylist.value && searchPlaylist.value.length > 0"
            (click)="searchPlaylist.setValue('')" id="clearInputFilter" md-mini-fab>X</button>

        <md-autocomplete #auto="mdAutocomplete" class="autocompleteBox">
            <md-option *ngFor="let pl of playlistsList" [value]="pl.title">
            {{ pl.title }}
            </md-option>
        </md-autocomplete>
    </span>
    
    <!-- Toolbar space -->
    <span class="spacerToolbar"></span>

    <!-- Playlist count -->
    <span style="margin-left :16px; margin-right :16px;">{{ playlistsList.length }} Playlist<span *ngIf="playlistsList.length > 1">s</span></span>

    <!-- Refresh playlist list button -->
    <button class="toolbarBtn" *ngIf="!isEditMode" md-raised-button tabindex="-1" (click)="reloadPlaylist()">
    <fa aria-label="Refresh playlist" [name]="'refresh'" [size]="1"></fa>
    Refresh
    </button>
</md-toolbar>


<!-- Edit playlist mode toolbar -->
<md-toolbar *ngIf="isEditMode">

    <!-- Return button -->
    <button class="toolbarBtn returnBtn"  md-raised-button tabindex="-1" (click)="return()">
        <fa aria-label="Return" [name]="'arrow-left'" [size]="1"></fa>
    </button>

    <!-- Save playlist button -->
    <button class="toolbarBtn"  md-raised-button tabindex="-1" (click)="saveOnEditPlaylist()">
        <fa aria-label="Save playlist" [name]="'floppy-o'" [size]="1"></fa>
        Save playlist
    </button>
    <span class="spacerToolbar"></span>
</md-toolbar>


<!-- List of playlist -->
<div *ngIf="!isEditMode" class="plListContainer" >
    <md-grid-list  *ngIf="playlistsList" cols="5" rowHeight="160px" gutterSize="10px" >
        
        <!-- Playlist list items -->
        <md-grid-tile *ngFor="let pl of playlistsList; let i = index">
            <div class="plBox">

                <!-- Privacy status playlist icons -->
                <div *ngIf="pl.privacyStatus === 'private'" mdTooltip="Playlist private" class="plStatus private">
                    <fa aria-label="Playlist private" [name]="'lock'" [size]="1"></fa>
                </div>

                <div *ngIf="pl.privacyStatus === 'public'" mdTooltip="Playlist public" class="plStatus public">
                    <fa aria-label="Playlist public" [name]="'globe'" [size]="1"></fa>
                </div>

                <div class="plContent">
                    <div *ngIf="pl.thumbUrl === ''" class="iconBg"><fa [name]="'music'" [size]="5"></fa></div>
                    <div *ngIf="pl.thumbUrl !== ''" class="thumbBg">
                        <img src="{{ pl.thumbUrl }}" alt="">
                    </div>

                    <div class="plContentInfos">
                        <p class="plName">{{ pl.title }}</p>
                        <p class="plDesc">{{ pl.description }}</p>
                        <p class="nbrVideo">{{ pl.videolist.length }} video<span *ngIf="pl.videolist.length > 1">s</span></p>
                    </div>
                </div>

                <div class="plFooter">
                    <!-- Play playlist button -->
                    <button class="playBtn plBtn" (click)="playPlaylist(pl)" mdTooltip="Play playlist!" [mdTooltipPosition]="'above'">
                    <fa aria-label="Edit playlist" [name]="'play'" [size]="2"></fa>
                    </button>

                    <div class="spacerBtn"></div>
                    
                    <!-- Edit playlist button -->
                    <button class="editBtn plBtn" (click)="editPlaylist(pl)" mdTooltip="Edit playlist!" [mdTooltipPosition]="'above'">
                    <fa aria-label="Edit playlist" [name]="'pencil'" [size]="2"></fa>
                    </button>

                    <!-- Remove playlist button -->
                    <button class="deleteBtn plBtn" (click)="deletePlaylist(pl)" mdTooltip="Delete playlist!" [mdTooltipPosition]="'above'">
                    <fa aria-label="Delete playlist" [name]="'trash'" [size]="2"></fa>
                    </button>
                </div>
            </div>

        </md-grid-tile>
    </md-grid-list>
</div>

<!-- Edit playlist -->
<div *ngIf="isEditMode" class="doublePlaylistContainer plListContainer">
    <!-- On edit playlist -->
    <div class="playlistContainer">
        <div class="header title playlistContainerItem">{{ onEditPlaylist.name }}</div>
        <div class="content playlistContainerItem"><app-playlist [(videolist)]="onEditPlaylist.videolist" [acceptDrop]="true"></app-playlist></div>
    </div>

    <!-- Search result playlist -->
    <div class="playlistContainer">
        <div class="header playlistContainerItem"><app-search-bar></app-search-bar></div>
        <div class="content playlistContainerItem"><app-playlist [(videolist)]="searchResultPlaylist" [acceptDrop]="false"></app-playlist></div>
    </div>
</div>
