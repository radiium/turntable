<div id="libraryContainer" class="contentPanel">

    <app-toolbar [height]="'40px'" [margin]="'0 0 0 2px'">
        <button
            class="toolbarBtn textBtn btnHover"
            (click)="onDisplay = 'playlistList'"
            [class.activeUnderLine]="onDisplay === 'playlistList'">
            <span>Playlists</span>
        </button>
        <button
            class="toolbarBtn textBtn btnHover"
            (click)="onDisplay = 'subscriptionList'"
            [class.activeUnderLine]="onDisplay === 'subscriptionList'">
            <span>subscription</span>
        </button>
        <div class="flexSpacer"></div>
    </app-toolbar>

    <div class="spacer"></div>


    <!-- Playlists list -->
    <div id="contentItemBox" [hidden]="onDisplay !== 'playlistList'">
        <div *ngIf="displayType === 'grid'" class="plGrid">
            <div *ngFor="let pl of playlistsList; let i = index" class="plItem">

                <div class="plItemBox">
                    <div *ngIf="pl.thumbUrl !== ''" class="boxThumb thumbSize">
                        <img class="thumbSize" src="{{ pl.thumbUrl }}" alt="">
                    </div>
                    <div *ngIf="pl.thumbUrl === ''" class="boxThumb thumbSize">
                        <img class="thumbSize" src="assets/images/pochette.png" alt="">
                    </div>

                    <div class="boxThumbHover thumbSize"></div>

                    <div class="totalTime lightColor">{{ pl.videolist | totalduration | duration }}</div>

                    <div class="boxThumbHoverContent">
                        <div class="numberTrack">
                            <div class="lightColor">{{ pl.videolist.length }}</div>
                            <div class="track lightColor">track<span *ngIf="pl.videolist.length > 1">s</span></div>
                        </div>

                        <button [matMenuTriggerFor]="menu" class="menuBtn">
                            <fa class="menuBtnIco" [name]="'bars'" [size]="2"></fa>
                        </button>

                        <mat-menu #menu="matMenu">
                            <!-- Play -->
                            <button mat-menu-item (click)="playPlaylist(pl)">
                                <mat-icon svgIcon="playlist-play"></mat-icon>
                                <span>Play all</span>
                            </button>

                            <!-- Add to current -->
                            <button mat-menu-item (click)="addToCurrentPlaylist(pl)">
                                <mat-icon svgIcon="playlist-plus"></mat-icon>
                                <span>Add to player list</span>
                            </button>

                            <!-- Show -->
                            <button mat-menu-item (click)="showPlaylist(pl)">
                                <mat-icon svgIcon="eye-outline"></mat-icon>
                                <span>Show details</span>
                            </button>

                            <!-- Remove -->
                            <button mat-menu-item (click)="deletePlaylist(pl)" >
                                <mat-icon svgIcon="delete-forever"></mat-icon>
                                <span>Delete</span>
                            </button>
                        </mat-menu>

                    </div>
                </div>

                <div class="plItemFooter">
                    <div class="plName noOverflow" (click)="showPlaylist(pl)">{{ pl.title }}</div>
                </div>
            </div>

        </div>

        <!-- Display list -->
        <mat-list *ngIf="displayType === 'list'" role="list">
        <mat-list-item class="listItemRow row"role="listitem"*ngFor="let pl of playlistsList; let i = index">
            <div class="rowBorder" [class.local]="pl.isLocal" [class.notlocal]="!pl.isLocal"></div>
            <div class="thumbBox">
                <div *ngIf="pl.thumbUrl === ''" class=""><img src="assets/images/pochette.png" alt=""></div>
                <div *ngIf="pl.thumbUrl !== ''" class=""><img src="{{ pl.thumbUrl }}" alt=""></div>
            </div>

            <div class="contentBox">
                <div class="infosBox">
                    <div class="infosBoxTitle">{{ pl.title }}</div>
                    <div class="" *ngIf="pl.description">{{ pl.description }}</div>
                    <div class="">{{ pl.videolist.length }} video<span *ngIf="pl.videolist.length > 1">s</span></div>
                </div>

                <span class="spacerToolbar"></span>

                <div class="ctrlBox">
                    <!-- Play playlist button -->
                    <button  class="playBtn" (click)="playPlaylist(pl)">
                    <fa aria-label="Edit playlist" [name]="'play'" [size]="2"></fa>
                    </button>

                    <!-- Edit playlist button -->
                    <button class="editBtn" (click)="editPlaylist(pl)">
                    <fa aria-label="Edit playlist" [name]="'pencil'" [size]="2"></fa>
                    </button>

                    <!-- Remove playlist button -->
                    <button class="deleteBtn"(click)="deletePlaylist(pl)" >
                    <fa aria-label="Delete playlist" [name]="'trash'" [size]="2"></fa>
                    </button>
                </div>
            </div>
        </mat-list-item>
        </mat-list>
    </div>


    <!-- Subscription list -->
    <div id="contentItemBox" [hidden]="onDisplay !== 'playlistList'">
        Hello subscription!!
    </div>

</div>
